"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _jsCookie=_interopRequireDefault(require("js-cookie"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e){Object.prototype.hasOwnProperty.call(e,u)&&((r=o?Object.getOwnPropertyDescriptor(e,u):null)&&(r.get||r.set)?Object.defineProperty(n,u,r):n[u]=e[u])}return n.default=e,t&&t.set(e,n),n}var _default={state:{isCollapse:!1,menu:[],currentMenu:null,tabsList:[{id:1,name:"home",path:"/",label:"首页",icon:"home"}]},mutations:{selectMenu:function(e,t){"home"!==t.name?(e.currentMenu=t,-1===e.tabsList.findIndex(function(e){return e.name===t.name})&&e.tabsList.push(t)):e.currentMenu=null},closeTab:function(e,t){var r=e.tabsList.findIndex(function(e){return e.name===t.name});e.tabsList.splice(r,1)},collapseMenu:function(e){e.isCollapse=!e.isCollapse},setMenu:function(e,t){e.menu=t,_jsCookie.default.set("menu",JSON.stringify(t))},clearMenu:function(e){e.menu=[],_jsCookie.default.remove("menu")},addMenu:function(e,t){var r,n;_jsCookie.default.get("menu")&&(r=JSON.parse(_jsCookie.default.get("menu")),e.menu=r,n=[{path:"/",component:function(){return Promise.resolve().then(function(){return _interopRequireWildcard(require("@/views/Mine"))})},children:[]}],r.forEach(function(e){var t;e.children?(e.children=e.children.map(function(e){return e.component=function(){return Promise.resolve().then(function(){return _interopRequireWildcard(require("@/views/".concat(e.url)))})},e}),(t=n[0].children).push.apply(t,_toConsumableArray(e.children))):(e.component=function(){return Promise.resolve().then(function(){return _interopRequireWildcard(require("@/views/".concat(e.url)))})},n[0].children.push(e))}),t.addRoutes(n))}},actions:{}};exports.default=_default;